<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Warehouse Panel</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family: 'Segoe UI', sans-serif; }
.sidebar { height: 100vh; background: #1e293b; color: white; }
.sidebar .nav-link { color: #cbd5e1; font-weight: 500; }
.sidebar .nav-link:hover { background: #334155; color: #fff; border-radius: 8px; }
.content { padding: 20px; min-height: 100vh; background: #f8fafc; }
.card { margin-bottom: 15px; }
.table-actions button { margin-right: 5px; }
</style>
</head>
<body>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-3 col-lg-2 p-0 sidebar">
      <h2 class="text-white p-3">âš™ï¸ Admin Panel</h2>
      <nav class="nav flex-column mt-2">
        <a href="livestock.html" class="nav-link">ğŸ„ Livestock</a>
        <a href="warehouse.html" class="nav-link">ğŸ¬ Warehouse</a>
        <a href="agent.html" class="nav-link">ğŸ‘¨â€ğŸ’¼ Agent Price Analytics</a>
        <a href="retailer.html" class="nav-link">ğŸ›’ Retailer</a>
        <a href="meatproduction.html" class="nav-link">ğŸ¥© Meat Production</a>
        <a href="meatconsumption.html" class="nav-link">ğŸ“ˆ Meat Consumption</a>
        <a href="order.html" class="nav-link">ğŸ“¦ Order</a>
      </nav>
    </div>

    <div class="col-md-9 col-lg-10 content">
      <h1>ğŸ¬ Warehouse Panel</h1>
      <p>Interactive Warehouse Management System</p>

      <div class="row">
        <!-- Stock Table -->
        <div class="col-12">
          <div class="card p-3">
            <h5>Stock / Inventory</h5>
            <table class="table table-bordered" id="stock-table">
              <thead>
                <tr><th>Product</th><th>Quantity (kg)</th><th>Actions</th></tr>
              </thead>
              <tbody></tbody>
            </table>
            <button class="btn btn-primary btn-sm" onclick="addStock()">Add Stock</button>
          </div>
        </div>

        <!-- Cold Storage -->
        <div class="col-12 mt-3">
          <div class="card p-3">
            <h5>Cold Storage Capacity</h5>
            <p>Total: 1000kg | Used: <span id="used-storage">0</span>kg</p>
            <div class="progress"><div id="storage-bar" class="progress-bar bg-success" style="width:0%"></div></div>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<script>
// Stock Data
let stocks = [
  {product:"Beef", qty:200},
  {product:"Chicken", qty:150}
];
const totalStorage = 1000; // kg

function renderStockTable(){
  const tbody = document.getElementById("stock-table").getElementsByTagName('tbody')[0];
  tbody.innerHTML="";
  stocks.forEach((s,i)=>{
    const row = tbody.insertRow();
    row.innerHTML=`<td>${s.product}</td><td>${s.qty}</td>
      <td class="table-actions">
      <button class="btn btn-sm btn-warning" onclick="editStock(${i})">Edit</button>
      <button class="btn btn-sm btn-danger" onclick="deleteStock(${i})">Delete</button>
      </td>`;
  });
  updateStorage();
}

// CRUD
function addStock(){
  const product = prompt("Product Name:");
  const qty = parseInt(prompt("Quantity (kg):"),10);
  if(product && qty>=0){ stocks.push({product, qty}); renderStockTable(); }
}
function editStock(i){
  const s = stocks[i];
  const product = prompt("Edit Product Name:", s.product);
  const qty = parseInt(prompt("Edit Quantity (kg):", s.qty),10);
  if(product && qty>=0){ stocks[i]={product, qty}; renderStockTable(); }
}
function deleteStock(i){ if(confirm("Delete this entry?")){ stocks.splice(i,1); renderStockTable(); } }

// Cold Storage Update
function updateStorage(){
  let used = stocks.reduce((sum,s)=>sum+s.qty,0);
  document.getElementById("used-storage").innerText = used;
  document.getElementById("storage-bar").style.width = (used/totalStorage*100)+"%";
  if(used/totalStorage>0.8){
    document.getElementById("storage-bar").classList.remove("bg-success");
    document.getElementById("storage-bar").classList.add("bg-danger");
  } else {
    document.getElementById("storage-bar").classList.remove("bg-danger");
    document.getElementById("storage-bar").classList.add("bg-success");
  }
}

// Initial Render
renderStockTable();
</script>
</body>
</html>
